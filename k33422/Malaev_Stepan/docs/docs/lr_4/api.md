
# Api (Axios)

## Основные компоненты

`index.js` - это основной файл для взаимодействия с серверным API в проекте на Vue.js 3. Он отвечает за настройку и
отправку HTTP-запросов к серверу. Вот основные элементы и подходы, использованные в этом файле:

- **Axios**: Импортируется библиотека `axios`, которая используется для создания HTTP-запросов к серверу. Axios
  позволяет легко настроить запросы и обработать ответы от сервера.

- **Экземпляр axios**: Создается экземпляр axios с помощью метода `.create()`, где указываются базовый URL (`baseURL`),
  который является общим для всех запросов к API, и заголовки по умолчанию (`headers`), в данном случае тип содержимого
  установлен как `application/json`.

- **Интерсепторы запросов**: Интерсепторы позволяют перехватывать и модифицировать запросы или ответы до их обработки. В
  данном случае добавлен интерсептор запроса, который добавляет токен авторизации в заголовки каждого запроса, если
  токен существует в `localStorage`.

- **Токен авторизации**: Токен авторизации извлекается из `localStorage` и, если он существует, добавляется в заголовки
  запросов. Это необходимо для аутентификации пользователя и доступа к защищенным частям API.

- **Обработка ошибок**: В интерсепторах также предусмотрена обработка ошибок. Если при выполнении запроса возникает
  ошибка, она перехватывается и может быть обработана соответствующим образом.

## Особенности

В файле `api.js` используются следующие интересные подходы и фишки:

- **Модульность**: Весь функционал по работе с API вынесен в отдельный модуль, что делает код проекта более
  структурированным и упрощает его поддержку.

- **Интерсепторы**: Использование интерсепторов для автоматического добавления токена авторизации в каждый запрос
  упрощает работу с API, где требуется аутентификация, и делает код более чистым, так как избавляет от необходимости
  добавлять токен вручную к каждому запросу.

- **Централизованная обработка ошибок**: Интерсепторы также используются для централизованной обработки ошибок, что
  позволяет легко управлять ошибками на глобальном уровне и предоставляет возможность внедрения единой логики обработки
  ошибок для всех HTTP-запросов в приложении.
